(()=>{var e,n={name:"",password:"",timestamp:0};chrome.runtime.onMessage.addListener((function(s,t,o){return"znn.requestWalletAccess"===s.message?(e=t.tab.id,window.open("popup.html","extension_popup","width=376,height=650,status=no,scrollbars=yes,resizable=yes").znn={currentIntegrationFlow:"walletAccess"},o("Extension opened !"),!0):"znn.sendTransactionToSigning"===s.message?(e=t.tab.id,window.open("popup.html","extension_popup","width=376,height=650,status=no,scrollbars=yes,resizable=yes").znn={currentIntegrationFlow:"transactionSigning",transactionData:s.params},o("Extension opened !"),!0):"znn.sendAccountBlockToSend"===s.message?(e=t.tab.id,window.open("popup.html","extension_popup","width=376,height=650,status=no,scrollbars=yes,resizable=yes").znn={currentIntegrationFlow:"accountBlockSending",accountBlockData:s.params},o("Extension opened !"),!0):"znn.grantedWalletRead"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.grantedWalletRead",data:s.data},(function(e){})),!0):"znn.deniedWalletRead"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.deniedWalletRead",error:s.error,data:s.data},(function(e){})),!0):"znn.signedTransaction"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.signedTransaction",data:s.data},(function(e){})),!0):"znn.deniedSignTransaction"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.deniedSignTransaction",error:s.error,data:s.data},(function(e){})),!0):"znn.accountBlockSent"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.accountBlockSent",data:s.data},(function(e){})),!0):"znn.deniedSendAccountBlock"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.deniedSendAccountBlock",error:s.error,data:s.data},(function(e){})),!0):"znn.addressChanged"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.addressChanged",data:s.data},(function(e){})),!0):"znn.chainIdChanged"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.chainIdChanged",data:s.data},(function(e){})),!0):"znn.nodeChanged"===s.message?(chrome.tabs.sendMessage(e,{message:"znn.nodeChanged",data:s.data},(function(e){})),!0):"internal.getCredentialsFromBackgroundScript"===s.message?(n.name&&n.password&&n.timestamp?(new Date-n.timestamp)/1e3<3600?o(n):(a(),o(!1)):o(!1),!0):"internal.storeCredentialsToBackgroundScript"===s.message?(s.data.name&&s.data.password&&(n.name=s.data.name,n.password=s.data.password,n.timestamp=new Date),!0):"internal.clearCredentialsOfBackgroundScript"!==s.message||(a(),!0)}));var a=function(){n.name="",n.password="",n.timestamp=new Date};chrome.runtime.onSuspend.addListener((function(){a()}))})();