(()=>{var e,n,a,s,t,o={name:"",password:"",timestamp:0};null===(e=chrome)||void 0===e||null===(n=e.runtime)||void 0===n||n.onMessage.addListener((function(e,n,a){return"znn.requestWalletAccess"===e.message?(t=n.tab.id,window.open("popup.html","extension_popup","width=376,height=650,status=no,scrollbars=yes,resizable=yes").znn={currentIntegrationFlow:"walletAccess"},a("Extension opened !"),!0):"znn.sendTransactionToSigning"===e.message?(t=n.tab.id,window.open("popup.html","extension_popup","width=376,height=650,status=no,scrollbars=yes,resizable=yes").znn={currentIntegrationFlow:"transactionSigning",transactionData:e.params},a("Extension opened !"),!0):"znn.sendAccountBlockToSend"===e.message?(t=n.tab.id,window.open("popup.html","extension_popup","width=376,height=650,status=no,scrollbars=yes,resizable=yes").znn={currentIntegrationFlow:"accountBlockSending",accountBlockData:e.params},a("Extension opened !"),!0):"znn.grantedWalletRead"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.grantedWalletRead",data:e.data},(function(e){})),!0):"znn.deniedWalletRead"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.deniedWalletRead",error:e.error,data:e.data},(function(e){})),!0):"znn.signedTransaction"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.signedTransaction",data:e.data},(function(e){})),!0):"znn.deniedSignTransaction"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.deniedSignTransaction",error:e.error,data:e.data},(function(e){})),!0):"znn.accountBlockSent"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.accountBlockSent",data:e.data},(function(e){})),!0):"znn.deniedSendAccountBlock"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.deniedSendAccountBlock",error:e.error,data:e.data},(function(e){})),!0):"znn.addressChanged"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.addressChanged",data:e.data},(function(e){})),!0):"znn.chainIdChanged"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.chainIdChanged",data:e.data},(function(e){})),!0):"znn.nodeChanged"===e.message?(chrome.tabs.sendMessage(t,{message:"znn.nodeChanged",data:e.data},(function(e){})),!0):"internal.getCredentialsFromBackgroundScript"===e.message?(o.name&&o.password&&o.timestamp?(new Date-o.timestamp)/1e3<3600?a(o):(d(),a(!1)):a(!1),!0):"internal.storeCredentialsToBackgroundScript"===e.message?(e.data.name&&e.data.password&&(o.name=e.data.name,o.password=e.data.password,o.timestamp=new Date),!0):"internal.clearCredentialsOfBackgroundScript"!==e.message||(d(),!0)}));var d=function(){o.name="",o.password="",o.timestamp=new Date};null===(a=chrome)||void 0===a||null===(s=a.runtime)||void 0===s||s.onSuspend.addListener((function(){d()}))})();